---

---
<script>

const button = document.querySelector("[theme-toggle]");
const localTheme = getLocalStorageTheme("theme", "dark");
updateHTML(localTheme)




button.addEventListener("click", () => {
    const current = getTheme();
    const newTheme = current === "dark" ? "light" : "dark";
    const buttonText = newTheme === "dark" ? "☼" : "☾";
    button.innerHTML = buttonText;
    updateLocalStorage(newTheme);
    updateHTML(newTheme);

});




function getTheme() {

    const a = document.querySelector("html")?.getAttribute("data-theme")
    
        
    return a    
}

function updateLocalStorage(theme: string): void {
    localStorage.setItem("theme", theme)
}

function updateHTML( theme: string ): void {
    document.querySelector("html").setAttribute("data-theme", theme);


}

function getLocalStorageTheme(theme: string, defaultV: "dark"): "dark" {
    const localStorageTheme = localStorage.getItem(theme);
    return localStorageTheme !== null ? (localStorageTheme as unknown as "dark") : defaultV;
}



</script>
<style> 
    button {
        
        width: 25px;
        justify-content: center;
        border-width: 1px;
        border-color: var(--colour-changeTheme);
        border-style: hidden;
        background-color: var(--colour-bg);
        color: var(--color);
    }
   
</style>

<button 
    type="button"
    theme-toggle
    >☼</button>
